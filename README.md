# Trade Platform REST API
---
API, предоставляющий взаимодействие с биржей игровых предметов
## Логика в БД:
---
### Триггеры:
* Триггер на организацию сделки:
    * сведение двух предложений (buy и sell) в таблицу trade
    * формирование __трех__ записей в таблице transaction (оплата продавцу, оплата комиссии бирже, передача вещи)    
    [+ можно разелить в соответствующие функции запись в trade и запись в transaction]
* Триггер на добавление всех аккаунтов пользователя (срабатывает при создании нового пользователя, либо при добавлении нового типа предмета)

### Функции:
* Функция для возврата комиссии за нужную дату(get_fee)
* Функция для возврата инвентаря конкретного пользователя (get_inventory)
* Функция для возврата текущего баланса конкретного пользователя(get_balance)
* Функция для возврата владельца конкретной вещи(get_item_owner)
* Функция для получения истории деятельности пользователя(get_user_activity)

## Логика API:
---
### Методы администратора:    
* установка комиссии биржи (```set_market_commission```)
* пополнение баланса пользователя (```make_deposit```)
* создание типа предмета (```create_item_type```)
* получение истории активности любого пользователя (```get_activity_history```)

### Методы пользователя:
* регистрация (```singup_user```)
* создание предложения на покупку предмета(```add_offer_buy```)
* создание предложения на продажу предмета(```add_offfer_sell```)
* обновление предложения (```edit_offer_buy``` и ```edit_offer_sell```)
* получение своей истории активности (```get_personal_activity```)

### Общие методы:
* получение списка типов предметов (```get_items_types```) (for what purpose???)
* получение текущего состояния биржи (```get_market_info```)
* получение информации общей инф. о пользователе (```get_user```)
* получение выручки за период (```get_revenue```) ~ получение баланса
* получение списка предложений о покупке (```get_offers_buy```)
* получение списка предложение о продаже (```get_offers_sell```)
* получение информации о предмете (```get_item_info```)
* получение топ-3 самых продаваемых предметов (```get_top_items```)
